{"ast":null,"code":"import _asyncToGenerator from\"/Users/r4s0n3/Documents/WEB/AIblog/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/r4s0n3/Documents/WEB/AIblog/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/r4s0n3/Documents/WEB/AIblog/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{useState,useCallback}from\"react\";export var useHttpClient=function useHttpClient(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var sendRequest=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var method,body,headers,response,responseData,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:\"GET\";body=_args.length>2&&_args[2]!==undefined?_args[2]:null;headers=_args.length>3&&_args[3]!==undefined?_args[3]:{};setIsLoading(true);window.scroll(0,0);_context.prev=5;_context.next=8;return fetch(url,{method:method,body:body,headers:headers});case 8:response=_context.sent;_context.next=11;return response.json();case 11:responseData=_context.sent;if(response.ok){_context.next=14;break;}throw new Error(responseData.message);case 14:setIsLoading(false);return _context.abrupt(\"return\",responseData);case 18:_context.prev=18;_context.t0=_context[\"catch\"](5);setError(_context.t0.message);setIsLoading(false);throw _context.t0;case 23:case\"end\":return _context.stop();}}},_callee,null,[[5,18]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);var clearError=function clearError(){setError(null);};return{isLoading:isLoading,error:error,sendRequest:sendRequest,clearError:clearError};};","map":{"version":3,"names":["useState","useCallback","useHttpClient","isLoading","setIsLoading","error","setError","sendRequest","url","method","body","headers","window","scroll","fetch","response","json","responseData","ok","Error","message","clearError"],"sources":["/Users/r4s0n3/Documents/WEB/AIblog/frontend/src/shared/hooks/http-hook.js"],"sourcesContent":["import { useState, useCallback } from \"react\"\n\nexport const useHttpClient = () => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState();\n\n    \n    const sendRequest = useCallback(async (url, method = \"GET\", body = null, headers = {}) => {\n        setIsLoading(true);\n        window.scroll(0, 0);\n\n        try{\n            const response = await fetch(url, {\n                method,\n                body,\n                headers\n            });\n            const responseData = await response.json();\n\n            if(!response.ok){\n                throw new Error(responseData.message);\n            }\n            setIsLoading(false);\n            return responseData;\n        } catch(err){\n            setError(err.message);\n            setIsLoading(false)\n            throw err;\n        }\n     \n    },[]);\n\n    const clearError = () => {\n        setError(null);\n    };\n    return{\n        isLoading,\n        error,\n        sendRequest,\n        clearError\n        \n    };\n};"],"mappings":"sYAAA,OAASA,QAAT,CAAmBC,WAAnB,KAAsC,OAAtC,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC/B,cAAkCF,QAAQ,CAAC,KAAD,CAA1C,wCAAOG,SAAP,eAAkBC,YAAlB,eACA,eAA0BJ,QAAQ,EAAlC,yCAAOK,KAAP,eAAcC,QAAd,eAGA,GAAMC,CAAAA,WAAW,CAAGN,WAAW,0FAAC,iBAAOO,GAAP,gLAAYC,MAAZ,+CAAqB,KAArB,CAA4BC,IAA5B,+CAAmC,IAAnC,CAAyCC,OAAzC,+CAAmD,EAAnD,CAC5BP,YAAY,CAAC,IAAD,CAAZ,CACAQ,MAAM,CAACC,MAAP,CAAc,CAAd,CAAiB,CAAjB,EAF4B,sCAKDC,CAAAA,KAAK,CAACN,GAAD,CAAM,CAC9BC,MAAM,CAANA,MAD8B,CAE9BC,IAAI,CAAJA,IAF8B,CAG9BC,OAAO,CAAPA,OAH8B,CAAN,CALJ,QAKlBI,QALkB,sCAUGA,CAAAA,QAAQ,CAACC,IAAT,EAVH,SAUlBC,YAVkB,kBAYpBF,QAAQ,CAACG,EAZW,+BAad,IAAIC,CAAAA,KAAJ,CAAUF,YAAY,CAACG,OAAvB,CAbc,SAexBhB,YAAY,CAAC,KAAD,CAAZ,CAfwB,gCAgBjBa,YAhBiB,4DAkBxBX,QAAQ,CAAC,YAAIc,OAAL,CAAR,CACAhB,YAAY,CAAC,KAAD,CAAZ,CAnBwB,uFAAD,+DAuB7B,EAvB6B,CAA/B,CAyBA,GAAMiB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBf,QAAQ,CAAC,IAAD,CAAR,CACH,CAFD,CAGA,MAAM,CACFH,SAAS,CAATA,SADE,CAEFE,KAAK,CAALA,KAFE,CAGFE,WAAW,CAAXA,WAHE,CAIFc,UAAU,CAAVA,UAJE,CAAN,CAOH,CAxCM"},"metadata":{},"sourceType":"module"}